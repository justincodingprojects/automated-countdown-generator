<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-204211052-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-204211052-1');
    </script>

    <script type="text/javascript">
        var urlParams = window.location.href
        Date.prototype.today = function() {
            return (((this.getMonth() + 1) < 10) ? "0" : "") + (this.getMonth() + 1) + "/" + ((this.getDate() < 10) ? "0" : "") + this.getDate() + "/" + this.getFullYear();
        }

        Date.prototype.timeNow = function() {
            return ((this.getHours() < 10) ? "0" : "") + this.getHours() + ":" + ((this.getMinutes() < 10) ? "0" : "") + this.getMinutes() + ":" + ((this.getSeconds() < 10) ? "0" : "") + this.getSeconds();
        }
        if (urlParams.indexOf("?month=") != -1 &&
            urlParams.indexOf("&day=") != -1 &&
            urlParams.indexOf("&year=") != -1 &&
            urlParams.indexOf("&hour=") != -1 &&
            urlParams.indexOf("&minute=") != -1 &&
            urlParams.indexOf("&second=") != -1 &&
            urlParams.indexOf("&message=") != -1) {
            var countDownDate = new Date(urlParams.substring(urlParams.indexOf('month=') + 6).split(`&day=`)[0] +
                " " + urlParams.substring(urlParams.indexOf('day=') + 4).split(`&year=`)[0] +
                " " + urlParams.substring(urlParams.indexOf('year=') + 5).split(`&hour=`)[0] +
                " " + urlParams.substring(urlParams.indexOf('hour=') + 5).split(`&minute=`)[0] +
                ":" + urlParams.substring(urlParams.indexOf('minute=') + 7).split(`&second=`)[0] +
                ":" + urlParams.substring(urlParams.indexOf('second=') + 7).split(`&millisecond=`)[0] +
                "." + urlParams.substring(urlParams.indexOf('millisecond=') + 12).split(`&message=`)[0]).getTime();
            if ("wakeLock" in navigator) {
                let wakeLock = null;
                async function start() {
                    wakeLock = await navigator.wakeLock.request('screen');
                }
                document.addEventListener('visibilitychange', async() => {
                    if (wakeLock !== null && document.visibilityState === 'visible') {
                        wakeLock = await navigator.wakeLock.request('screen');
                    }
                });
                start();
            }
            var egg = new Egg("esc", function() {
                window.top.document.body.removeChild(window.parent.document.getElementById("iframeModal"))
            }).listen();
            var x = setInterval(function() {

                var now = new Date().getTime();

                var distance = countDownDate - now;
                if (decodeURIComponent(urlParams.substring(urlParams.indexOf('message=') + 8)) !== "") {
                    document.getElementById("title").innerHTML = decodeURIComponent(urlParams.substring(urlParams.indexOf('message=') + 8))
                } else {
                    document.getElementById("title").innerHTML = "Countdown Timer"
                }
                if (decodeURIComponent(urlParams.substring(urlParams.indexOf('message=') + 8)) != "") {
                    document.title = decodeURIComponent(urlParams.substring(urlParams.indexOf('message=') + 8)) + " - Auto. Countdown Generator | Justin Coding Projects"
                }
                document.getElementById("footera").innerHTML = "Timer until " + new Date(urlParams.substring(urlParams.indexOf('month=') + 6).split(`&day=`)[0] +
                        " " + urlParams.substring(urlParams.indexOf('day=') + 4).split(`&year=`)[0] +
                        " " + urlParams.substring(urlParams.indexOf('year=') + 5).split(`&hour=`)[0]).toLocaleDateString("default", {
                        weekday: 'long'
                    }) + ", " + new Date(urlParams.substring(urlParams.indexOf('month=') + 6).split(`&day=`)[0] +
                        " " + urlParams.substring(urlParams.indexOf('day=') + 4).split(`&year=`)[0] +
                        " " + urlParams.substring(urlParams.indexOf('year=') + 5).split(`&hour=`)[0]).toLocaleDateString("default", {
                        month: 'long'
                    }) + " " + new Date(urlParams.substring(urlParams.indexOf('month=') + 6).split(`&day=`)[0] +
                        " " + urlParams.substring(urlParams.indexOf('day=') + 4).split(`&year=`)[0] +
                        " " + urlParams.substring(urlParams.indexOf('year=') + 5).split(`&hour=`)[0]).getDate() + ", " + new Date(urlParams.substring(urlParams.indexOf('month=') + 6).split(`&day=`)[0] +
                        " " + urlParams.substring(urlParams.indexOf('day=') + 4).split(`&year=`)[0] +
                        " " + urlParams.substring(urlParams.indexOf('year=') + 5).split(`&hour=`)[0]).getFullYear() + " at " + ((parseInt(urlParams.substring(urlParams.indexOf('hour=') + 5).split(`&minute=`)[0]) + 11) % 12 + 1) +
                    ":" + urlParams.substring(urlParams.indexOf('minute=') + 7).split(`&second=`)[0] + " " + ((parseInt(urlParams.substring(urlParams.indexOf('hour=') + 5).split(`&minute=`)[0]) >= 12) ? "PM" : "AM");
                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                if (seconds < 10) {
                    seconds = "0" + seconds.toString()
                }
                if (days < 10) {
                    days = "0" + days.toString()
                }
                if (hours < 10) {
                    hours = "0" + hours.toString()
                }
                if (minutes < 10) {
                    minutes = "0" + minutes.toString()
                }
                if (distance > 0) {
                    if (days + "d " + hours + "h " +
                        minutes + "m " + seconds + "s" != document.getElementById("demo").innerHTML) {
                        document.getElementById("demo").innerHTML = days + "d " + hours + "h " +
                            minutes + "m " + seconds + "s"
                    }
                }
                if (decodeURIComponent(urlParams.substring(urlParams.indexOf('message=') + 8)) == "") {
                    document.title = days + "d " + hours + "h " +
                        minutes + "m " + seconds + "s" + " - Auto. Countdown Generator | Justin Coding Projects"
                }
                if (distance < 0) {
                    clearInterval(x);
                    setTimeout(function() {
                        document.getElementById("demo").innerHTML = "Countdown Ended"
                        wakeLock.release()
                            .then(() => {
                                wakeLock = null;
                            });

                    }, 250)
                }
            }, 50);
        } else {
            alert("Incorrect parameters.")
        }
    </script>
    <script type="text/javascript">
        var count = 0
        onMaintenance = {
            aInternal: 10,
            aListener: function(val) {},
            set isOn(val) {
                this.aInternal = val;
                this.aListener(val);
            },
            get isOn() {
                return this.aInternal;
            },
            registerListener: function(listener) {
                this.aListener = listener;
            }
        }

        onMaintenance.registerListener(function(val) {
            setMaintenanceBanner(onMaintenance.isOn)
        });

        function setMaintenanceBanner(bool) {
            if (bool == true) {
                if (document.getElementsByClassName("topnav")[0] == undefined) {
                    setTimeout(function() {
                        var div = document.createElement("div")
                        div.setAttribute("class", "topnav")
                        document.body.appendChild(div)
                        var a = document.createElement("a")
                        a.setAttribute("id", "mainbanner")
                        a.setAttribute("class", "active")
                        document.getElementsByClassName("topnav")[0].appendChild(a)
                        document.getElementById("mainbanner").innerHTML = "Math FAST Testing Day is here. Took me a while to change the countdown for this day."
                    }, 50)
                }
            } else if (bool == false) {
                if (document.getElementsByClassName("topnav")[0] !== undefined) {
                    document.body.removeChild(document.getElementsByClassName("topnav")[0])
                }
            }
        }
    </script>
    <script type="text/javascript">
        setTimeout(function() {
            onMaintenance.isOn = true;
            var redirect = false;
            var redirectPlusPassword = false;
            if (onMaintenance.isOn) {
                if (redirect) {
                    alert("Sorry, we are currently undergoing maintenance!")
                    if (redirectPlusPassword) {
                        if (prompt("If you are the owner of this website to see how it's going, enter the password here else, just skip:") !== atob("MzMyMDI3Mjkw")) {
                            setTimeout(`document.body.innerHTML = \`<head> <link rel="shortcut icon" href="https://ssl.gstatic.com/docs/script/images/favicon.ico"> <title>Error</title> <style type="text/css" nonce="eOBe5a84XCGQOhXiuFQNtQ">body {background-color: #fff; margin: 0; padding: 0;}.errorMessage {font-family: Arial,sans-serif; font-size: 12pt; font-weight: bold; line-height: 150%; padding-top: 25px;}</style> </head> <body style="margin:20px"> <div><img alt="Google Apps Script" style="padding: 20px;" src="https://ssl.gstatic.com/docs/script/images/logo.png"></div> <div id="message" style="text-align:center;font-family:monospace;margin:50px auto 0;max-width:600px">The owner shut down this website due to this reason: Website Maintenance. If this was a mistake, contact the owner.</div> </body>\``, 500)
                        }
                    } else {
                        setTimeout(`document.body.innerHTML = \`<head> <link rel="shortcut icon" href="https://ssl.gstatic.com/docs/script/images/favicon.ico"> <title>Error</title> <style type="text/css" nonce="eOBe5a84XCGQOhXiuFQNtQ">body {background-color: #fff; margin: 0; padding: 0;}.errorMessage {font-family: Arial,sans-serif; font-size: 12pt; font-weight: bold; line-height: 150%; padding-top: 25px;}</style> </head> <body style="margin:20px"> <div><img alt="Google Apps Script" style="padding: 20px;" src="https://ssl.gstatic.com/docs/script/images/logo.png"></div> <div id="message" style="text-align:center;font-family:monospace;margin:50px auto 0;max-width:600px">The owner shut down this website due to this reason: Website Maintenance. If this was a mistake, contact the owner.</div> </body>\``, 500)
                    }
                }
            }
        }, 50)
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/egg.js/1.0/egg.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/platform.js?onload=init" async defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
        body {
            background-color: black;
        }
        
        #demo {
            text-align: center;
            font-size: 375%;
            margin-top: 0px;
            font-family: 'Roboto', sans-serif;
            color: white;
            z-index: 10;
            position: fixed;
            top: 58%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -58%);
        }
        
        button {
            text-align: center;
            font-size: 375%;
            margin-top: 0px;
            font-family: 'Roboto', sans-serif;
            color: white;
            z-index: 10;
            position: absolute;
            top: 58%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -58%);
        }
        
        #title {
            text-align: center;
            font-size: 375%;
            margin-top: 0px;
            font-family: 'Roboto', sans-serif;
            color: white;
            position: fixed;
            top: 45%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -45%);
        }
        
        #fadetolinear {
            text-align: center;
            display: none;
            font-size: 200%;
            margin-top: 0px;
            font-family: 'Roboto', sans-serif;
            color: white;
            position: absolute;
            top: 73%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -73%);
        }
        
        #fadetolinear2 {
            text-align: center;
            display: none;
            font-size: 200%;
            margin-top: 0px;
            font-family: 'Roboto', sans-serif;
            color: white;
            position: absolute;
            top: 80%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -80%);
        }
        
        .topnav {
            background-color: #34b518;
            position: fixed;
            top: 1.3%;
            left: 0.5%;
            right: 0.5%;
            overflow: hidden;
        }
        
        .topnav a {
            float: left;
            color: #f2f2f2;
            text-align: center;
            width: 100%;
            padding-top: 12px;
            padding-bottom: 12px;
            text-decoration: none;
            font-size: 20px;
            font-family: 'Roboto', sans-serif;
        }
        
        .footer {
            background-color: #444444;
            position: fixed;
            top: 93.3%;
            left: 33%;
            right: 33%;
            overflow: hidden;
            text-align: center;
        }
        
        .footer a {
            display: block;
            float: left;
            color: #f2f2f2;
            width: 100%;
            padding-top: 6px;
            padding-bottom: 6px;
            text-decoration: none;
            font-size: 18px;
            opacity: 0.5;
            font-family: 'Roboto', sans-serif;
        }
    </style>
</head>

<body>
    <div class="footer">
        <a id="footera"></a>
    </div>
    <p id="title"></p>
    <p id="demo"></p>
</body>

</html>
